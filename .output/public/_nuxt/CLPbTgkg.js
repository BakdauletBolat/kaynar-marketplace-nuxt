import{u as N}from"./C9DWXZsB.js";import{c as O,a as U}from"./B4DrlZXU.js";import{o as s,c as n,a as t,n as y,U as V,r as _,C as I,E as w,b as d,M as o,V as h,w as v,d as S,J as b,O as k,t as $,q}from"./CBD-eXxQ.js";import{u as z,a as A,b as D,_ as E}from"./CxxBq95G.js";import{a7 as F}from"./Bq_GEINd.js";import{d as g}from"./C0SGhtqG.js";import{_ as L}from"./CIqN_2jL.js";function R(f,c){return s(),n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})])}const G={class:""},J={class:"grid py-[100px] lg:grid-cols-[3fr_2fr] gap-4 items-start justify-center"},T=t("div",{class:"flex justify-center text-white w-full h-full flex-col"},[t("h1",{class:"text-2xl"},[t("strong",{class:"text-primary"},"Б/у автозапчасти "),S("онлайн от 13 европейских продавцов ")]),t("p",{class:"mt-2"},"Выбирайте из 70 000 б/у запчастей по доступным ценам в одном магазине")],-1),Z={class:"w-full justify-center flex h-full items-center"},H={class:"flex w-full gap-2 flex-col bg-white p-4 rounded-lg"},K=t("h2",{class:"text-xl font-bold mb-3"},"Запчасти для вашего автомобиля",-1),Q=y({__name:"search-block",setup(f){const c=V();let a=_(),i=_(),u=_();const p=z(),{data:m}=N("manufacturers",()=>j()),x=I(()=>m.value!=null?m.value.results.map(l=>({label:l.name,value:l.id})):[]),C=_([]);w(()=>{p.loadCategories()});function M(l){i.value=void 0,P(l)}function B(){var l,e;c.push({name:a.value!=null?"catalog-manufacturerId":"catalog",query:{category:(l=u.value)==null?void 0:l.toString(),modification:(e=i.value)==null?void 0:e.toString()},params:{manufacturerId:a.value!=null?a==null?void 0:a.value:null}})}function j(){return O("/api/car/manufacturers/")}function P(l){U.get(`/api/car/models/?manufacturer=${l}`).then(e=>{C.value=e.data.results.map(r=>({label:r.name,value:r.id}))}).catch(e=>{console.log(e)})}return(l,e)=>(s(),n("div",G,[t("div",J,[T,t("div",Z,[t("div",H,[K,d(o(g),{value:o(a),"onUpdate:value":e[0]||(e[0]=r=>h(a)?a.value=r:a=r),filterable:"",clearable:"",placeholder:"Марка","on-change":M,options:x.value},null,8,["value","options"]),d(o(g),{filterable:"",clearable:"",value:o(i),"onUpdate:value":e[1]||(e[1]=r=>h(i)?i.value=r:i=r),disabled:!o(a),placeholder:"Модель",options:C.value},null,8,["value","disabled","options"]),d(o(g),{filterable:"",clearable:"",value:o(u),"onUpdate:value":e[2]||(e[2]=r=>h(u)?u.value=r:u=r),placeholder:"Название детали",options:o(p).categoriesOptions},null,8,["value","options"]),d(o(F),{type:"primary",onClick:B},{icon:v(()=>[d(o(R))]),default:v(()=>[S(" Искать ")]),_:1})])])])]))}}),W={class:"grid lg:grid-rows-3 md:grid-rows-6 grid-rows-12 gap-4 grid-flow-col items-start"},X={class:"text-lg font-bold"},Y={class:"flex flex-col gap-1 mt-2"},tt=y({__name:"manufacturers-list",setup(f){const c=A();return w(()=>{c.loadManufacturers()}),(a,i)=>{const u=L;return s(),n("div",W,[(s(!0),n(b,null,k(o(c).manufacturersByLetterGrouping,(p,m)=>(s(),n("div",null,[t("h2",X,$(m),1),t("div",Y,[(s(!0),n(b,null,k(p,x=>(s(),n("div",null,[d(u,{to:{name:"index"},class:"text-sm hover:text-blue-400 hover:font-medium hover:underline"},{default:v(()=>[S($(x.name),1)]),_:2},1024)]))),256))])]))),256))])}}}),et={style:{backgroundSize:"cover",background:"url('https://kartinki.pics/uploads/posts/2021-07/1626725529_6-kartinkin-com-p-zapchasti-fon-krasivo-7.jpg') no-repeat center"}},ot={class:"mx-auto container px-4"},at={class:"mx-auto container px-4"},st=t("h3",{class:"mt-9 px-3 md:px-0 text-2xl font-bold"},"Лучшие предложение",-1),rt={key:0,class:"grid gap-2 md:grid-cols-2 md:gap-3 mt-3"},nt={key:1},lt={class:"mx-auto container px-4"},ct=t("h3",{class:"mt-9 px-3 md:px-0 text-2xl font-bold"},"Поиск по марке",-1),ut={class:"mt-4"},it=t("section",{class:"mx-auto container px-4"},[t("h3",{class:"mt-9 px-3 md:px-0 text-2xl font-bold"},"Поиск по категории"),t("div",{class:"mt-4"})],-1),gt=y({__name:"index",setup(f){const c=D();return w(()=>{c.loadPopularProducts({})}),(a,i)=>(s(),n("main",null,[t("section",et,[t("div",ot,[d(Q)])]),t("section",at,[st,o(c).popularProducts?(s(),n("div",rt,[(s(!0),n(b,null,k(o(c).popularProducts,u=>(s(),q(E,{item:u},null,8,["item"]))),256))])):(s(),n("div",nt))]),t("section",lt,[ct,t("div",ut,[d(tt)])]),it]))}});export{gt as default};
