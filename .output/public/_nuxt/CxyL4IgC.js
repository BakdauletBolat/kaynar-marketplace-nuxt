import{Z as O,$ as h,r as S,U as H,a0 as $,a1 as Y,v as E,h as R,a2 as M,a3 as j,A as P,m as B,a4 as C,s as L}from"./BdcIS8BQ.js";const T=e=>e==="defer"||e===!1;function X(...e){var p;const n=typeof e[e.length-1]=="string"?e.pop():void 0;typeof e[0]!="string"&&e.unshift(n);let[a,c,t={}]=e;if(typeof a!="string")throw new TypeError("[nuxt] [asyncData] key must be a string.");if(typeof c!="function")throw new TypeError("[nuxt] [asyncData] handler must be a function.");const s=O(),m=c,l=()=>h.value,f=()=>s.isHydrating?s.payload.data[a]:s.static.data[a];t.server=t.server??!0,t.default=t.default??l,t.getCachedData=t.getCachedData??f,t.lazy=t.lazy??!1,t.immediate=t.immediate??!0,t.deep=t.deep??h.deep,t.dedupe=t.dedupe??"cancel";const D=()=>t.getCachedData(a,s)!=null;if(!s._asyncData[a]||!t.immediate){(p=s.payload._errors)[a]??(p[a]=h.errorValue);const i=t.deep?S:H;s._asyncData[a]={data:i(t.getCachedData(a,s)??t.default()),pending:S(!D()),error:$(s.payload._errors,a),status:S("idle"),_default:t.default}}const r={...s._asyncData[a]};delete r._default,r.refresh=r.execute=(i={})=>{if(s._asyncDataPromises[a]){if(T(i.dedupe??t.dedupe))return s._asyncDataPromises[a];s._asyncDataPromises[a].cancelled=!0}if((i._initial||s.isHydrating&&i._initial!==!1)&&D())return Promise.resolve(t.getCachedData(a,s));r.pending.value=!0,r.status.value="pending";const d=new Promise((u,o)=>{try{u(m(s))}catch(w){o(w)}}).then(async u=>{if(d.cancelled)return s._asyncDataPromises[a];let o=u;t.transform&&(o=await t.transform(u)),t.pick&&(o=V(o,t.pick)),s.payload.data[a]=o,r.data.value=o,r.error.value=h.errorValue,r.status.value="success"}).catch(u=>{if(d.cancelled)return s._asyncDataPromises[a];r.error.value=j(u),r.data.value=P(t.default()),r.status.value="error"}).finally(()=>{d.cancelled||(r.pending.value=!1,delete s._asyncDataPromises[a])});return s._asyncDataPromises[a]=d,s._asyncDataPromises[a]},r.clear=()=>N(s,a);const _=()=>r.refresh({_initial:!0}),g=t.server!==!1&&s.payload.serverRendered;{const i=B();if(i&&!i._nuxtOnBeforeMountCbs){i._nuxtOnBeforeMountCbs=[];const o=i._nuxtOnBeforeMountCbs;Y(()=>{o.forEach(w=>{w()}),o.splice(0,o.length)}),E(()=>o.splice(0,o.length))}g&&s.isHydrating&&(r.error.value||D())?(r.pending.value=!1,r.status.value=r.error.value?"error":"success"):i&&(s.payload.serverRendered&&s.isHydrating||t.lazy)&&t.immediate?i._nuxtOnBeforeMountCbs.push(_):t.immediate&&_();const d=C();if(t.watch){const o=R(t.watch,()=>r.refresh());d&&M(o)}const u=s.hook("app:data:refresh",async o=>{(!o||o.includes(a))&&await r.refresh()});d&&M(u)}const v=Promise.resolve(s._asyncDataPromises[a]).then(()=>r);return Object.assign(v,r),v}function N(e,n){n in e.payload.data&&(e.payload.data[n]=void 0),n in e.payload._errors&&(e.payload._errors[n]=h.errorValue),e._asyncData[n]&&(e._asyncData[n].data.value=void 0,e._asyncData[n].error.value=h.errorValue,e._asyncData[n].pending.value=!1,e._asyncData[n].status.value="idle"),n in e._asyncDataPromises&&(e._asyncDataPromises[n]&&(e._asyncDataPromises[n].cancelled=!0),e._asyncDataPromises[n]=void 0)}function V(e,n){const a={};for(const c of n)a[c]=e[c];return a}function x(e){return C()?(M(e),!0):!1}function b(e){return typeof e=="function"?e():P(e)}const z=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const F=Object.prototype.toString,q=e=>F.call(e)==="[object Object]",J=()=>{},Q=G();function G(){var e,n;return z&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((n=window==null?void 0:window.navigator)==null?void 0:n.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}const I=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[T\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/i,Z=/[YMDHhms]o|\[([^\]]+)\]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a{1,2}|A{1,2}|m{1,2}|s{1,2}|Z{1,2}|SSS/g;function A(e,n,a,c){let t=e<12?"AM":"PM";return c&&(t=t.split("").reduce((s,m)=>s+=`${m}.`,"")),a?t.toLowerCase():t}function y(e){const n=["th","st","nd","rd"],a=e%100;return e+(n[(a-20)%10]||n[a]||n[0])}function K(e,n,a={}){var c;const t=e.getFullYear(),s=e.getMonth(),m=e.getDate(),l=e.getHours(),f=e.getMinutes(),D=e.getSeconds(),r=e.getMilliseconds(),_=e.getDay(),g=(c=a.customMeridiem)!=null?c:A,v={Yo:()=>y(t),YY:()=>String(t).slice(-2),YYYY:()=>t,M:()=>s+1,Mo:()=>y(s+1),MM:()=>`${s+1}`.padStart(2,"0"),MMM:()=>e.toLocaleDateString(a.locales,{month:"short"}),MMMM:()=>e.toLocaleDateString(a.locales,{month:"long"}),D:()=>String(m),Do:()=>y(m),DD:()=>`${m}`.padStart(2,"0"),H:()=>String(l),Ho:()=>y(l),HH:()=>`${l}`.padStart(2,"0"),h:()=>`${l%12||12}`.padStart(1,"0"),ho:()=>y(l%12||12),hh:()=>`${l%12||12}`.padStart(2,"0"),m:()=>String(f),mo:()=>y(f),mm:()=>`${f}`.padStart(2,"0"),s:()=>String(D),so:()=>y(D),ss:()=>`${D}`.padStart(2,"0"),SSS:()=>`${r}`.padStart(3,"0"),d:()=>_,dd:()=>e.toLocaleDateString(a.locales,{weekday:"narrow"}),ddd:()=>e.toLocaleDateString(a.locales,{weekday:"short"}),dddd:()=>e.toLocaleDateString(a.locales,{weekday:"long"}),A:()=>g(l,f),AA:()=>g(l,f,!1,!0),a:()=>g(l,f,!0),aa:()=>g(l,f,!0,!0)};return n.replace(Z,(p,i)=>{var d,u;return(u=i??((d=v[p])==null?void 0:d.call(v)))!=null?u:p})}function U(e){if(e===null)return new Date(Number.NaN);if(e===void 0)return new Date;if(e instanceof Date)return new Date(e);if(typeof e=="string"&&!/Z$/i.test(e)){const n=e.match(I);if(n){const a=n[2]-1||0,c=(n[7]||"0").substring(0,3);return new Date(n[1],a,n[3]||1,n[4]||0,n[5]||0,n[6]||0,c)}}return new Date(e)}function k(e,n="HH:mm:ss",a={}){return L(()=>K(U(b(e)),b(n),a))}export{k as a,q as b,x as c,z as d,Q as i,J as n,b as t,X as u};
